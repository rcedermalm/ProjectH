<head>
  <script src="Script/typeahead.js"></script>
  <script src="Script/bootstrap-tagsinput.js"></script>
 </head>
<h1 id="heading-browse">Add files to the database</h1>

<div class="container" style="margin-top: 20px;">
  <div class="row">
    <div class="col-lg-6 col-sm-6 col-12">
      <div class="input-group">
        <span class="input-group-btn">
          <span class="btn btn-primary btn-file">
          Browseâ€¦ <!-- <input type="file" multiple=""> -->
          <input type="file" onchange="selectFolder(event)" webkitdirectory directory multiple/>
          </span> 
        </span>
        <input type="text" class="form-control filename" readonly="">
      </div>
    </div>
  </div>
</div>


<!-- User input -->
<div id="ngController" ng-controller="AddController">

  <form ng-submit="processForm()">

    <div>
      <label for="types" class="txt-info">Data Types:</label>
      <input type="text" class="txt-field" ng-model="inputTags">
    </div>

    <div>
      <label for="creator" class="txt-info">Creator:</label>
        <input type="text" ng-model="Info.Creator" class="txt-field">
    </div>

    <div>
      <label for="infoTestData" class="txt-info">TestData ID:</label>
      <input type="text" ng-model="Info.TestDataID" class="txt-field">
    </div>

    <div>
      <label for="infoTestCase" class="txt-info">TestCase ID:</label>
      <input type="text" ng-model="Info.TestCaseID"  class="txt-field">
    </div>

    <div>
      <label for="patient-name" class="txt-info">New patient name:</label>
      <input type="text" ng-model="Info.NewPatientName" class="txt-field">
    </div>

    <div>
      <label for="tags" class="txt-info">Labels:</label>
      <input type="text" id="tags" value="" data-role="tagsinput" class="form-control" ng-model="Tags" ng-init="Tags=''">
    </div>

    <div>
      <label for="description" class="txt-info">Description:</label>
      <textarea type="text" class="txt-area" ng-model="Info.Description"/>
    </div>

    <div>
      <label for="anonymized" class="txt-info">Anonymized?</label>
      <label class="switch">
        <input type="checkbox" ng-model="Info.Anonymized" ng-init="Info.Anonymized='false'">
        <div class="slider" ng-click="sliderAnonymize"></div>
      </label>
    </div>


    <!-- Custom Fields -->

    <div id="nestedform">

      <label class="txt-info">Custom fields:</label>
      <button id="b1" class="btn add-more btn-import" type="button">Add Custom Field</button>
        <div class="controls custom-fields" id="profs">
          <input class="input1 custom-input" id="field1"  ng-model="KEYZ" type="text" placeholder="Key" value="" />
          <input class="input2 txt-field custom-input" id="field2" ng-model="VALUEZ" type="text" placeholder="Value" value="" />
          <button class="remove btn-danger" type="button">X</button>
        </div>
    </div>


    <div class="buttons">
      <button type="button" onclick="reloadPage()" class="btn btn-cancel">Cancel</button>
      <!--<button type="submit" class="btn btn-import">Add entry</button>  
      <button ng-click="SendData()" type="submit" class="btn btn-import">Add entry</button> -->   
      <button class="btn btn-import" type="submit" data-toggle="modal" data-target="#register" onclick="modalFunction()">Proceed</button>
    </div>
  </form>



  <!-- Modal -->
  <div class="modal fade" id="register" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close btnX" data-dismiss="modal">x</button>
          <h2 class="modal-title">Overview</h2>
        </div>
        <div class="modal-body">
          <div class="modal1">
            <label for="directory" class="txt-modal">Chosen Folder:</label>
            <input class="input-modal" id="directory" name="directory" type="text" value="{{ request.form.directory }}" disabled/>
          </div> 

          <div class="modal1">
            <label for="types" class="txt-modal">Data Types:</label>
            <input class="input-modal" id="labels" name="labels" type="text" value="{{ request.form.labels }}" disabled/>
          </div>

          <div class="modal1">
            <label for="creator" class="txt-modal">Creator:</label>
            <input class="input-modal" id="creator" name="creator" type="text" value="{{ request.form.creator }}" disabled/>
          </div>

          <div class="modal1">
            <label for="infoTestData" class="txt-modal">TestData ID:</label>
            <input class="input-modal" id="TDID" name="TDID" type="text" value="{{ request.form.TDID }}" disabled/>
          </div>

          <div class="modal1">
            <label for="infoTestCase" class="txt-modal">TestCase ID:</label>
            <input class="input-modal" id="TCID" name="TCID" type="text" value="{{ request.form.TCID }}" disabled/>
          </div>

          <div class="modal1">
            <label for="patient-name" class="txt-modal">New patient name:</label>
            <input class="input-modal" id="patient-name" name="patient-name" type="text" value="{{ request.form.patient-name }}" disabled/>
          </div>

          <div class="modal1">
            <label for="tags" class="txt-modal">Labels:</label>
            <input class="input-modal" id="tags" name="tags" type="text" value="{{ request.form.tags }}" disabled/>
          </div> 

          <div class="modal1">
            <label for="description" class="txt-modal">Description:</label>
            <input class="input-modal" id="description" name="description" type="text" value="{{ request.form.description }}" disabled/>
          </div>

          <div class="modal1">
            <label for="anonymized" class="txt-modal">Anonymized:</label>
            <input class="input-modal" id="anonymized" name="anonymized" type="text" value="{{ request.form.anonymized }}" disabled/>
          </div> 

        </div>
        <div class="modal-footer">

          <button type="button" class="btn btn-cancel" data-dismiss="modal">Close</button>
          <button ng-click="SendData()" type="submit" data-dismiss="modal"class="btn btn-import" onclick="reloadPage()" >Add entry</button> 

        </div>
      </div>
    </div>
  </div>
</div>
